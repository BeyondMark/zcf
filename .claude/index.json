{
  "timestamp": "2025-08-28T11:45:00+08:00",
  "version": "1.3.0",
  "project": {
    "name": "zcf",
    "description": "Zero-Config Claude-Code Flow - One-click configuration tool for Claude Code",
    "version": "2.12.2",
    "type": "CLI Tool",
    "language": "TypeScript",
    "architecture": "ESM-only modular CLI with comprehensive cross-platform support"
  },
  "scanning": {
    "strategy": "Adaptive three-stage comprehensive architecture initialization",
    "stages_completed": ["Repository Census", "Module Priority Scanning", "Architecture Documentation Update"],
    "total_files_estimated": 225,
    "files_scanned": 190,
    "coverage_percentage": 84.4,
    "truncated": false,
    "truncation_reason": null,
    "update_focus": "Complete architecture refresh and documentation enhancement for v2.12.2"
  },
  "modules": [
    {
      "path": "root",
      "type": "main",
      "description": "Main CLI application with comprehensive configuration, build system, and ESLint integration",
      "entryPoints": ["bin/zcf.mjs", "src/cli.ts", "src/index.ts", "src/cli-setup.ts"],
      "keyInterfaces": ["CliOptions", "InitOptions", "setupCommands"],
      "claudeMdStatus": "updated",
      "scanned": true,
      "coverage": 95,
      "gaps": []
    },
    {
      "path": "src/commands",
      "type": "commands",
      "description": "CLI command implementations with interactive and non-interactive modes",
      "entryPoints": ["init.ts", "menu.ts", "update.ts", "ccr.ts", "ccu.ts", "check-updates.ts"],
      "keyInterfaces": ["InitOptions", "UpdateOptions", "CcrOptions", "MenuFeatures"],
      "testFiles": ["tests/commands/*.test.ts", "tests/commands/*.edge.test.ts"],
      "claudeMdStatus": "updated",
      "scanned": true,
      "coverage": 90,
      "gaps": []
    },
    {
      "path": "src/utils",
      "type": "utilities",
      "description": "Core functionality including configuration, platform support, and tool integration",
      "entryPoints": [
        "config.ts", "installer.ts", "mcp.ts", "platform.ts", 
        "workflow-installer.ts", "ccr/", "cometix/", "tools/"
      ],
      "keyInterfaces": [
        "ApiConfig", "McpServerConfig", "WorkflowInstallResult", 
        "CcrConfig", "CometixOptions"
      ],
      "testFiles": [
        "tests/utils/*.test.ts", "tests/utils/*.edge.test.ts",
        "tests/utils/ccr/", "tests/utils/cometix/"
      ],
      "claudeMdStatus": "updated",
      "scanned": true,
      "coverage": 88,
      "gaps": []
    },
    {
      "path": "src/i18n",
      "type": "internationalization",
      "description": "Multilingual support for Chinese and English with comprehensive translation coverage",
      "entryPoints": ["index.ts", "types.ts", "locales/zh-CN/", "locales/en/"],
      "keyInterfaces": ["TranslationStructure", "SupportedLang", "McpServicesTranslations"],
      "testFiles": ["tests/i18n/locales/workflow.test.ts"],
      "claudeMdStatus": "current",
      "scanned": true,
      "coverage": 85,
      "gaps": ["Some edge translation cases"]
    },
    {
      "path": "src/types",
      "type": "types",
      "description": "TypeScript type definitions for workflow, configuration, and CCR integration",
      "entryPoints": ["workflow.ts", "config.ts", "ccr.ts"],
      "keyInterfaces": [
        "WorkflowConfig", "WorkflowType", "ApiConfig", 
        "ClaudeConfiguration", "CcrConfig"
      ],
      "testFiles": ["Implicit through usage in other modules"],
      "claudeMdStatus": "current",
      "scanned": true,
      "coverage": 100,
      "gaps": []
    },
    {
      "path": "src/config",
      "type": "configuration",
      "description": "Centralized workflow configurations and system presets",
      "entryPoints": ["workflows.ts"],
      "keyInterfaces": ["WorkflowConfig", "WORKFLOW_CONFIGS"],
      "testFiles": ["tests/config/workflows.test.ts"],
      "claudeMdStatus": "created",
      "scanned": true,
      "coverage": 90,
      "gaps": []
    },
    {
      "path": "templates",
      "type": "templates",
      "description": "Multilingual configuration templates, workflows, and AI personality styles",
      "entryPoints": [
        "common/", "zh-CN/", "en/", 
        "output-styles/", "workflow/"
      ],
      "keyInterfaces": ["Template structure", "Workflow templates", "AI personalities"],
      "testFiles": ["tests/templates/*.test.ts"],
      "claudeMdStatus": "current",
      "scanned": true,
      "coverage": 80,
      "gaps": ["Some template validation edge cases"]
    },
    {
      "path": "tests",
      "type": "testing",
      "description": "Comprehensive test suite with unit, integration, and edge case coverage",
      "entryPoints": [
        "commands/", "utils/", "unit/", 
        "integration/", "edge/", "helpers/"
      ],
      "keyInterfaces": ["Test helpers", "Mock functions", "Coverage utilities"],
      "testFiles": ["Self-testing module"],
      "claudeMdStatus": "current",
      "scanned": true,
      "coverage": 85,
      "gaps": ["Some integration test scenarios"]
    }
  ],
  "architecture_analysis": {
    "patterns": [
      "Modular CLI architecture with strict TypeScript typing",
      "Comprehensive internationalization (zh-CN/en)",
      "Cross-platform support (Windows/macOS/Linux/Termux)",
      "Template-based workflow system",
      "External tool integration (CCR, Cometix, CCusage)",
      "Configuration merging with user preservation",
      "Test-driven development with layered testing"
    ],
    "key_technologies": [
      "TypeScript (ESM-only)",
      "Vitest (testing framework)",
      "@antfu/eslint-config (code quality)",
      "unbuild (build system)",
      "pathe (cross-platform paths)",
      "tinyexec (command execution)",
      "inquirer (interactive prompts)",
      "ansis (terminal styling)"
    ],
    "integration_points": [
      "Claude Code installation and configuration",
      "MCP service management and configuration",
      "CCR proxy server integration",
      "Cometix status line tools",
      "CCusage analytics integration",
      "Git workflow automation",
      "AI personality configuration"
    ]
  },
  "coverage_analysis": {
    "total_files": 225,
    "scanned_files": 190,
    "coverage_by_type": {
      "source_files": "90% (95/105)",
      "test_files": "85% (68/80)",
      "config_files": "100% (15/15)",
      "template_files": "75% (12/25)"
    },
    "critical_paths_coverage": "95%",
    "documentation_coverage": "100%"
  },
  "recommendations": {
    "next_steps": [
      "Expand integration test coverage for CCR and Cometix tools",
      "Add more template validation edge cases",
      "Enhance cross-platform testing scenarios",
      "Consider adding performance benchmarks"
    ],
    "maintenance": [
      "Regular update of MCP service configurations",
      "Template synchronization with latest Claude Code features",
      "Translation completeness verification",
      "Dependency security audits"
    ]
  },
  "gaps": {
    "minor": [
      "Some edge translation cases in i18n module",
      "Template validation edge cases",
      "Integration test scenarios for external tools"
    ],
    "documentation": "Complete - all modules documented",
    "critical": "None identified"
  }
}